<link rel="import" href="../../elements.html">
<dom-module id="lapix-form">
    <style>
        :host {
            display: block;
        }
    </style>
    <template>
        <form id="form" method="post" action="[[url]]">
            <content id="c"></content>
            <!-- <input type="text" name="hola" value="noce"> -->
        </form>
    </template>
    <script type="text/javascript">
        Polymer({
            is: "lapix-form",
            properties: {
                params: {
                    type: Object,
                    observer: '_observeParams'
                },
                url: {
                    type: String
                }
            },
            _observeParams: function(params){
                if(params){
                    for (var key in params) {
                        if (params.hasOwnProperty(key)) {
                            let item = this.querySelector('[name="'+key+'"]');
                            if(item){
                                item.value = this.params[key];
                            }
                        }
                    }
                }else{
                    let items = this.querySelectorAll('[name]');
                    for (let item of items) {
                        item.value = "";
                    }
                }
            },
            submit: function () {
                this.$.form.submit();
            }
        });
    </script>
</dom-module>
