<link rel="import" href="../../elements.html">
<link rel="import" href="../forms/form-estudiante.html">
<dom-module id="lapix-registro-estudiantes">

    <template>
        <style>
            :host {
                display: block;
            }

            paper-toolbar{
                --paper-toolbar-background: #cfd8dd;
                --paper-toolbar-color: #000;
            }
        </style>
        <paper-toolbar class="medium-tall">
            
        </paper-toolbar>
        <lapix-table id="dt" site="/usuarios/list/estudiantes/" label="Estudiantes" property="id">
            <paper-datatable-column header="Identificación" property="identificacion" sortable></paper-datatable-column>
            <paper-datatable-column header="Estudiante" property="nombre">
                <template>
                    <span>[[value.first_name]]</span>
                    <span>[[value.last_name]]</span>
                </template>
            </paper-datatable-column>
            <paper-datatable-column header="Codigo" property="codigo_Estudiante" sortable></paper-datatable-column>
            <paper-datatable-column header="Grado de Ingreso" property="grado" sortable >
                <template>
                    <span>[[value]]</span>º
                </template>
            </paper-datatable-column>
            <paper-datatable-column header="Estado" property="status" editable>
                <template>
                    <paper-toggle-button checked="{{value}}"></paper-toggle-button>
                </template>
            </paper-datatable-column>
            <form-estudiante form></form-estudiante>
        </lapix-table>
    </template>

    <script>
        Polymer({
            is: 'lapix-registro-estudiantes',
            behaviors: [LapixBehavior],
            ready: function() {
                this.$.dt.cleanParameter = (item) => {
                    delete item.servicios;
                    item['first_name'] = item.nombre.first_name;
                    item['last_name'] = item.nombre.last_name;
                    item['fecha'] = item.date;
                    delete item.date;
                    delete item.nombre;
                    return item;
                };
            }
        });
    </script>

</dom-module>
